--- 06-01-2021 14:34:00
--- SQLite
CREATE TABLE User
(
    UserID INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, 
    FirstName VARCHAR NOT NULL,
    LastName VARCHAR NOT NULL,
    Birthplace VARCHAR NOT NULL,
    CreatedAt DATETIME NOT NULL,
    UpdatedAt DATETIME NULL
);

CREATE TABLE Favorite 
(
    FavoriteID INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, 
    UserID INTEGER NOT NULL,
    ArtistID INTEGER, 
    AlbumID INTEGER,
    SongID INTEGER,
    GenreID INTEGER,
    CreatedAt DATETIME NOT NULL,
    UpdatedAt DATETIME NULL,
    FOREIGN KEY (UserID) REFERENCES User (UserID),
    FOREIGN KEY (ArtistID) REFERENCES artists (id),
    FOREIGN KEY (AlbumID) REFERENCES albums (id),
    FOREIGN KEY (SongID) REFERENCES songs (id),
    FOREIGN KEY (GenreID) REFERENCES genres (id)
);

--- 06-01-2021 14:34:36
--- SQLite
INSERT INTO User 
(
    FirstName,
      LastName,
      Birthplace,
      CreatedAt
)
VALUES 
(
    'Florence',
      'Griffith-Joyner',
      'Littlerock, California',
      CURRENT_TIMESTAMP
),
(
    'Tom',
      'Brady',
      'San Mateo, California',
      CURRENT_TIMESTAMP
),
(
    'Hambo',
      'Slambo',
      'Human Town, Earth',
      CURRENT_TIMESTAMP
),
(
    'Junky',
      'MyBunky',
      'Universal Studios, Antartica',
      CURRENT_TIMESTAMP
),
(
    'Braverton',
      'Tunglebunny',
      'Under the River, Borneo',
      CURRENT_TIMESTAMP
),
(
    'Hats',
      'UndBats',
      'Torrential Downpour, Wherever',
      CURRENT_TIMESTAMP
),
(
    'Kablewy',
      'The Honkey Tonk Kid',
      'Around, Thereabouts',
      CURRENT_TIMESTAMP
),
(
    'Slade',
      'InTheShade',
      'Get Up And Dance, Texas',
      CURRENT_TIMESTAMP
),
(
    'Spumbledum',
      'McDunderspun',
      'Sploogetyblerg, USA',
      CURRENT_TIMESTAMP
),
(
    'Believe',
      'Me',
      'Youhadyourchance, Buddy',
      CURRENT_TIMESTAMP
);

--- 06-01-2021 14:34:40
--- SQLite
INSERT INTO User 
(
    FirstName,
      LastName,
      Birthplace,
      CreatedAt
)
VALUES 
(
    'Florence',
      'Griffith-Joyner',
      'Littlerock, California',
      CURRENT_TIMESTAMP
),
(
    'Tom',
      'Brady',
      'San Mateo, California',
      CURRENT_TIMESTAMP
),
(
    'Hambo',
      'Slambo',
      'Human Town, Earth',
      CURRENT_TIMESTAMP
),
(
    'Junky',
      'MyBunky',
      'Universal Studios, Antartica',
      CURRENT_TIMESTAMP
),
(
    'Braverton',
      'Tunglebunny',
      'Under the River, Borneo',
      CURRENT_TIMESTAMP
),
(
    'Hats',
      'UndBats',
      'Torrential Downpour, Wherever',
      CURRENT_TIMESTAMP
),
(
    'Kablewy',
      'The Honkey Tonk Kid',
      'Around, Thereabouts',
      CURRENT_TIMESTAMP
),
(
    'Slade',
      'InTheShade',
      'Get Up And Dance, Texas',
      CURRENT_TIMESTAMP
),
(
    'Spumbledum',
      'McDunderspun',
      'Sploogetyblerg, USA',
      CURRENT_TIMESTAMP
),
(
    'Believe',
      'Me',
      'Youhadyourchance, Buddy',
      CURRENT_TIMESTAMP
);

--- 06-01-2021 14:34:42
--- SQLite
INSERT INTO User 
(
    FirstName,
      LastName,
      Birthplace,
      CreatedAt
)
VALUES 
(
    'Florence',
      'Griffith-Joyner',
      'Littlerock, California',
      CURRENT_TIMESTAMP
),
(
    'Tom',
      'Brady',
      'San Mateo, California',
      CURRENT_TIMESTAMP
),
(
    'Hambo',
      'Slambo',
      'Human Town, Earth',
      CURRENT_TIMESTAMP
),
(
    'Junky',
      'MyBunky',
      'Universal Studios, Antartica',
      CURRENT_TIMESTAMP
),
(
    'Braverton',
      'Tunglebunny',
      'Under the River, Borneo',
      CURRENT_TIMESTAMP
),
(
    'Hats',
      'UndBats',
      'Torrential Downpour, Wherever',
      CURRENT_TIMESTAMP
),
(
    'Kablewy',
      'The Honkey Tonk Kid',
      'Around, Thereabouts',
      CURRENT_TIMESTAMP
),
(
    'Slade',
      'InTheShade',
      'Get Up And Dance, Texas',
      CURRENT_TIMESTAMP
),
(
    'Spumbledum',
      'McDunderspun',
      'Sploogetyblerg, USA',
      CURRENT_TIMESTAMP
),
(
    'Believe',
      'Me',
      'Youhadyourchance, Buddy',
      CURRENT_TIMESTAMP
);

--- 06-01-2021 14:34:42
--- SQLite
INSERT INTO User 
(
    FirstName,
      LastName,
      Birthplace,
      CreatedAt
)
VALUES 
(
    'Florence',
      'Griffith-Joyner',
      'Littlerock, California',
      CURRENT_TIMESTAMP
),
(
    'Tom',
      'Brady',
      'San Mateo, California',
      CURRENT_TIMESTAMP
),
(
    'Hambo',
      'Slambo',
      'Human Town, Earth',
      CURRENT_TIMESTAMP
),
(
    'Junky',
      'MyBunky',
      'Universal Studios, Antartica',
      CURRENT_TIMESTAMP
),
(
    'Braverton',
      'Tunglebunny',
      'Under the River, Borneo',
      CURRENT_TIMESTAMP
),
(
    'Hats',
      'UndBats',
      'Torrential Downpour, Wherever',
      CURRENT_TIMESTAMP
),
(
    'Kablewy',
      'The Honkey Tonk Kid',
      'Around, Thereabouts',
      CURRENT_TIMESTAMP
),
(
    'Slade',
      'InTheShade',
      'Get Up And Dance, Texas',
      CURRENT_TIMESTAMP
),
(
    'Spumbledum',
      'McDunderspun',
      'Sploogetyblerg, USA',
      CURRENT_TIMESTAMP
),
(
    'Believe',
      'Me',
      'Youhadyourchance, Buddy',
      CURRENT_TIMESTAMP
);

--- 06-01-2021 14:34:52
--- SQLite
SELECT * FROM User;

--- 06-01-2021 14:35:11
--- SQLite
INSERT INTO Favorite (UserID, CreatedAt) 
SELECT UserID, CreatedAt FROM User;

--- 06-01-2021 14:35:31
--- SQLite
UPDATE Favorite 
SET ArtistID = 1, AlbumID = 2, SongID = 3, GenreID = 4, UpdatedAt = CURRENT_TIMESTAMP
WHERE UserID <13; --Change to be (your biggest user id - 1)

SELECT * FROM Favorite;

--- 06-01-2021 14:35:51
--- SQLite
SELECT 
User.FirstName, 
User.LastName, 
(SELECT name FROM artists WHERE id = Favorite.ArtistID) AS 'Fav Artist', 
(SELECT name FROM albums WHERE id = Favorite.AlbumID) AS 'Fav Album', 
(SELECT name FROM songs WHERE id = Favorite.SongID) AS 'Fav Song', 
(SELECT name FROM genres WHERE id = Favorite.GenreID) AS 'Fav Genre'
from User
LEFT JOIN Favorite ON User.UserId = Favorite.UserId;

--- 06-01-2021 14:36:09
--- SQLite
SELECT
    albums.name,
    albums.id,
    SUM(songs.length)
FROM 
    albums
LEFT JOIN songs on songs.album_id = albums.id
GROUP BY
    albums.name
HAVING
    SUM(songs.length) > 5;

